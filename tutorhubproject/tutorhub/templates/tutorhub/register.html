{% extends "tutorhub/layout.html" %}
{% block body %}

<h2>Register</h2>

{% if message %}
    <div>{{ message }}</div>
{% endif %}

<form action="{% url 'register' %}" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-group">
        <input class="form-control" type="email" name="email" placeholder="Email Address">
    </div>
    <div class="form-group">
        <input class="form-control" type="password" name="password" placeholder="Password">
    </div>
    <div class="form-group">
        <input class="form-control" type="password" name="confirmation" placeholder="Confirm Password">
    </div>


    <div class="form-group">
        <label>User Type:</label><br>
        <input type="radio" name="user_type" value="student" checked> Student
        <input type="radio" name="user_type" value="tutor"> Tutor
    </div>

    <div id="tutor-fields" style="display: none;">
        <div class="form-group">
            <label for="availability">Availability (JSON format)</label>
            <textarea class="form-control" id="availability" name="availability"></textarea>
        </div>

        <div class="form-group">
            <label>Subjects</label><br>
            {% for subject in subjects %}
                <input type="checkbox" name="subjects" value="{{ subject.id }}"> {{ subject.name }}<br>
            {% endfor %}
        </div>

        <div class="form-group">
            <label>Grade Levels</label><br>
            {% for grade_level in grade_levels %}
                <input type="checkbox" name="grade_levels" value="{{ grade_level.id }}"> {{ grade_level.level }}<br>
            {% endfor %}
        </div>

        <div class="form-group">
            <label>Upload Credentials (Max 5 files)</label>
            <input type="file" name="credentials" multiple>
        </div>
    </div>

    <input class="btn btn-primary" type="submit" value="Register">
</form>

Already have an account? <a href="{% url 'login' %}">Log In here.</a>

{% endblock %}